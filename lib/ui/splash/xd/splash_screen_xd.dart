import 'dart:async';

import 'package:cast/app/repository/data_repository.dart';
import 'package:cast/app/service/api.dart';
import 'package:cast/app/service/api_service.dart';
import 'package:cast/bloc/main_category/main_category_bloc.dart';
import 'package:cast/ui/navigation/xd/navigation_screen_xd.dart';
import 'package:flutter/material.dart';
import 'package:adobe_xd/pinned.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_svg/flutter_svg.dart';

class SplashScreenXD extends StatefulWidget {
  SplashScreenXD({
    Key key,
  }) : super(key: key);

  @override
  _SplashScreenXDState createState() => _SplashScreenXDState();
}

class _SplashScreenXDState extends State<SplashScreenXD> {
  @override
  void initState() {
    super.initState();
    _startTimeout();
  }

  void _startTimeout() {
    var duration = Duration(seconds: 3);
    Timer(duration, goToNavigationScreen);
  }

  void goToNavigationScreen() async {
    /* Navigator.of(context).pushReplacement(
      MaterialPageRoute(
          builder: (_) =>
              //NavigationScreen()
              NavigationScreenXD()),
    ); */

    Navigator.of(context).pushReplacement(MaterialPageRoute(
        builder: (_) => BlocProvider(
              create: (context) =>
                  MainCategoryBloc(DataRepository(APIService(API.sandbox()))),
              child: NavigationScreenXD(),
            )));
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: const Color(0xffffffff),
      body: Stack(
        children: <Widget>[
          Pinned.fromSize(
            bounds: Rect.fromLTWH(0.0, 0.0, 360.0, 640.0),
            size: Size(360.0, 640.0),
            pinLeft: true,
            pinRight: true,
            pinTop: true,
            pinBottom: true,
            child: Container(
              decoration: BoxDecoration(
                gradient: LinearGradient(
                  begin: Alignment(0.0, 1.0),
                  end: Alignment(0.0, -1.0),
                  colors: [const Color(0xff44cac5), const Color(0xff44caab)],
                  stops: [0.0, 1.0],
                ),
              ),
            ),
          ),
          Pinned.fromSize(
            bounds: Rect.fromLTWH(-53.8, 186.1, 413.8, 146.2),
            size: Size(360.0, 640.0),
            pinLeft: true,
            pinRight: true,
            fixedHeight: true,
            child: SvgPicture.string(
              _svg_ojf9ik,
              allowDrawingOutsideViewBox: true,
              fit: BoxFit.fill,
            ),
          ),
          Pinned.fromSize(
            bounds: Rect.fromLTWH(97.8, 270.8, 165.7, 58.5),
            size: Size(360.0, 640.0),
            fixedWidth: true,
            fixedHeight: true,
            child: SvgPicture.string(
              _svg_432sia,
              allowDrawingOutsideViewBox: true,
              fit: BoxFit.fill,
            ),
          ),
          Pinned.fromSize(
            bounds: Rect.fromLTWH(104.0, 333.9, 153.0, 33.0),
            size: Size(360.0, 640.0),
            fixedWidth: false,
            fixedHeight: true,
            child: Text(
              'Find the best',
              style: TextStyle(
                fontFamily: 'Roboto',
                fontSize: 27,
                color: const Color(0xff202020),
                fontWeight: FontWeight.w300,
              ),
              textAlign: TextAlign.left,
            ),
          ),
        ],
      ),
    );
  }
}

const String _svg_ojf9ik =
    '<svg viewBox="-53.8 186.1 413.8 146.2" ><path transform="translate(-57.64, 243.68)" d="M 121.4198303222656 -39.66134262084961 L 121.4198303222656 -55.25166320800781 L 139.4520111083984 -55.25166320800781 L 139.4520111083984 -9.889451026916504 L 121.0441589355469 -9.889451026916504 C 116.410888671875 -18.96815490722656 110.055793762207 -26.04327774047852 101.9788818359375 -31.11483383178711 C 93.90196990966797 -36.1863899230957 85.04240417480469 -38.72216033935547 75.40019226074219 -38.72216033935547 C 66.07103729248047 -38.72216033935547 57.74367904663086 -36.2646484375 50.4181022644043 -31.34962844848633 C 43.09252548217773 -26.43461036682129 37.37920379638672 -19.86037445068359 33.27813720703125 -11.62692356109619 C 29.17706489562988 -3.393481492996216 27.12653160095215 5.45042610168457 27.12653160095215 14.90480136871338 C 27.12653160095215 24.6722354888916 29.27098274230957 33.68832778930664 33.55989074707031 41.95307540893555 C 37.84879684448242 50.21782684326172 43.74995422363281 56.82336807250977 51.26336288452148 61.76969528198242 C 58.77677154541016 66.71602630615234 67.13543701171875 69.18918609619141 76.33936309814453 69.18918609619141 C 87.67209625244141 69.18918609619141 97.68997955322266 65.72988891601563 106.3930130004883 58.8112907409668 C 115.0960464477539 51.89269256591797 121.4511337280273 42.07830429077148 125.4582901000977 29.36811637878418 L 143.490478515625 38.94771575927734 C 138.6067504882813 54.72587585449219 129.9819793701172 66.95082092285156 117.6161651611328 75.62255096435547 C 105.2503356933594 84.29427337646484 90.74007415771484 88.63014221191406 74.08534240722656 88.63014221191406 C 60.37337112426758 88.63014221191406 48.19538497924805 85.35868072509766 37.55138778686523 78.81575012207031 C 26.90739059448242 72.2728271484375 18.62698554992676 63.47586822509766 12.71017551422119 52.42489242553711 C 6.793365955352783 41.37391662597656 3.834960222244263 29.24289894104004 3.834960222244263 16.03181457519531 C 3.834960222244263 1.693719029426575 6.855977535247803 -11.07907962799072 12.89800930023193 -22.28657341003418 C 18.94004821777344 -33.49407577514648 27.28305816650391 -42.18145751953125 37.92705917358398 -48.34872436523438 C 48.57106018066406 -54.5159797668457 60.74904632568359 -57.59960556030273 74.46102142333984 -57.59960556030273 C 83.66493988037109 -57.59960556030273 92.14884185791016 -56.06562423706055 99.91269683837891 -52.99764251708984 C 107.6765594482422 -49.92966079711914 114.8455963134766 -45.48423767089844 121.4198303222656 -39.66134262084961 Z M 244.170166015625 22.41821479797363 L 244.170166015625 69.00135040283203 L 260.6996459960938 69.00135040283203 L 260.6996459960938 86.28219604492188 L 227.0771636962891 86.28219604492188 L 227.0771636962891 74.16682434082031 C 217.6853942871094 83.37075042724609 207.2292175292969 87.97271728515625 195.7086791992188 87.97271728515625 C 189.6353302001953 87.97271728515625 184.0785369873047 86.56395721435547 179.0382995605469 83.74642181396484 C 173.9980621337891 80.92889404296875 169.9595794677734 77.15653991699219 166.9229125976563 72.42934417724609 C 163.8862457275391 67.70216369628906 162.367919921875 62.45843124389648 162.367919921875 56.69814682006836 C 162.367919921875 50.49957656860352 164.0427856445313 44.97409820556641 167.3925170898438 40.12168121337891 C 170.7422180175781 35.2692756652832 175.2659454345703 31.52822303771973 180.963623046875 28.89852905273438 C 186.6612548828125 26.26883506774902 192.3902435302734 24.95398902893066 198.1505432128906 24.95398902893066 C 207.7927398681641 24.95398902893066 216.7775268554688 27.77152061462402 225.1048889160156 33.40657424926758 L 225.1048889160156 22.79388236999512 C 225.1048889160156 15.09263706207275 223.4769744873047 9.582802772521973 220.2211761474609 6.264384269714355 C 216.9653625488281 2.94595742225647 211.6120758056641 1.286748170852661 204.1612548828125 1.286748170852661 C 198.9018707275391 1.286748170852661 194.5033874511719 2.241580486297607 190.9658355712891 4.151235580444336 C 187.4282684326172 6.060890674591064 184.5011444091797 8.956687927246094 182.1845397949219 12.83861827850342 L 163.5888519287109 8.236651420593262 C 167.7838287353516 0.4101876020431519 173.4501953125 -5.428367614746094 180.5879364013672 -9.278986930847168 C 187.7256774902344 -13.12960910797119 196.2095794677734 -15.05492305755615 206.0395965576172 -15.05492305755615 C 219.2506866455078 -15.05492305755615 228.9085540771484 -12.04955387115479 235.01318359375 -6.03883171081543 C 241.1178436279297 -0.02810144424438477 244.170166015625 9.457579612731934 244.170166015625 22.41821479797363 Z M 198.3383636474609 73.03981018066406 C 207.8553619384766 73.03981018066406 216.7775268554688 69.06396484375 225.1048889160156 61.11227035522461 L 225.1048889160156 49.56040954589844 C 216.6523132324219 42.98617172241211 208.19970703125 39.69905853271484 199.7471313476563 39.69905853271484 C 194.6129760742188 39.69905853271484 190.1831817626953 41.31130599975586 186.4577941894531 44.53580856323242 C 182.7323760986328 47.76031494140625 180.8696899414063 51.81443023681641 180.8696899414063 56.69814682006836 C 180.8696899414063 61.39402389526367 182.4975891113281 65.29160308837891 185.7534027099609 68.39088439941406 C 189.0092010498047 71.49017333984375 193.2041931152344 73.03981018066406 198.3383636474609 73.03981018066406 Z M 331.5135498046875 -8.198933601379395 L 331.5135498046875 -12.42522144317627 L 348.418701171875 -12.42522144317627 L 348.418701171875 20.35202598571777 L 331.5135498046875 20.35202598571777 L 331.5135498046875 14.34129428863525 C 325.8784790039063 6.264384269714355 318.17724609375 2.225920915603638 308.4098205566406 2.225920915603638 C 303.275634765625 2.225920915603638 299.0806884765625 3.352936744689941 295.8248291015625 5.606959342956543 C 292.5690307617188 7.860981941223145 290.9411010742188 10.77242946624756 290.9411010742188 14.34129428863525 C 290.9411010742188 17.53449440002441 292.1776733398438 20.03896331787109 294.6509094238281 21.85470581054688 C 297.1240539550781 23.67044830322266 302.6808471679688 25.26704978942871 311.3212585449219 26.64450836181641 L 324.3758239746094 29.18028259277344 C 343.8480224609375 32.74914932250977 353.5841979980469 42.29743957519531 353.5841979980469 57.82515335083008 C 353.5841979980469 66.90386199951172 350.062255859375 74.19812774658203 343.0184326171875 79.70796966552734 C 335.974609375 85.21780395507813 326.6298217773438 87.97271728515625 314.9840393066406 87.97271728515625 C 310.3507690429688 87.97271728515625 305.7957458496094 87.29964447021484 301.3190307617188 85.9534912109375 C 296.84228515625 84.60733795166016 293.1012268066406 82.93247222900391 290.0958557128906 80.92889404296875 L 290.0958557128906 86.28219604492188 L 272.8150024414063 86.28219604492188 L 272.8150024414063 52.47185134887695 L 290.0958557128906 52.47185134887695 L 290.0958557128906 55.85288619995117 C 291.0350341796875 60.61137771606445 293.6803894042969 64.43069458007813 298.0319213867188 67.31082916259766 C 302.3834228515625 70.19097900390625 307.4393310546875 71.63105010986328 313.1996154785156 71.63105010986328 C 319.5233764648438 71.63105010986328 324.5010375976563 70.51969146728516 328.1325073242188 68.29697418212891 C 331.7639770507813 66.07425689697266 333.5797424316406 62.771484375 333.5797424316406 58.38866424560547 C 333.5797424316406 55.19545745849609 332.1396789550781 52.80055999755859 329.259521484375 51.20396423339844 C 326.37939453125 49.60736465454102 320.5878295898438 47.96380233764648 311.8847351074219 46.27328872680664 L 301.8355712890625 44.11318206787109 C 291.8802490234375 42.10960388183594 284.5860290527344 38.66596221923828 279.9527587890625 33.78224182128906 C 275.3194580078125 28.89852905273438 273.0028381347656 22.66865921020508 273.0028381347656 15.09263706207275 C 273.0028381347656 8.956687927246094 274.7090148925781 3.71294641494751 278.121337890625 -0.6385657787322998 C 281.53369140625 -4.990078926086426 285.90087890625 -8.261544227600098 291.222900390625 -10.45295524597168 C 296.5448913574219 -12.64436817169189 302.0234069824219 -13.74007320404053 307.6584777832031 -13.74007320404053 C 317.1128234863281 -13.74007320404053 325.0645141601563 -11.89302062988281 331.5135498046875 -8.198933601379395 Z M 417.6360168457031 -12.42522144317627 L 417.6360168457031 4.94953441619873 L 399.6038208007813 4.94953441619873 L 399.6038208007813 56.69814682006836 C 399.6038208007813 62.08275985717773 400.1829833984375 65.57335662841797 401.34130859375 67.16996002197266 C 402.4996032714844 68.76655578613281 404.487548828125 69.56486511230469 407.3050537109375 69.56486511230469 C 410.7487182617188 69.56486511230469 414.1923217773438 68.97004699707031 417.6360168457031 67.78042602539063 L 417.6360168457031 85.34302520751953 C 411.6252746582031 87.09614562988281 406.7728576660156 87.97271728515625 403.0787658691406 87.97271728515625 C 394.939208984375 87.97271728515625 389.0850524902344 85.92218017578125 385.5161743164063 81.82111358642578 C 381.9472961425781 77.72004699707031 380.1628723144531 70.69187164306641 380.1628723144531 60.73659896850586 L 380.1628723144531 4.94953441619873 L 367.2961730957031 4.94953441619873 L 367.2961730957031 -12.42522144317627 L 380.1628723144531 -12.42522144317627 L 380.1628723144531 -27.35813140869141 L 399.6038208007813 -45.10855865478516 L 399.6038208007813 -12.42522144317627 L 417.6360168457031 -12.42522144317627 Z" fill="#ffffff" fill-opacity="0.1" stroke="none" stroke-width="1" stroke-opacity="0.1" stroke-miterlimit="10" stroke-linecap="butt" /></svg>';
const String _svg_432sia =
    '<svg viewBox="97.8 270.8 165.7 58.5" ><path transform="translate(94.0, 328.42)" d="M 50.9072265625 -50.41845703125 L 50.9072265625 -56.65966796875 L 58.1259765625 -56.65966796875 L 58.1259765625 -38.5 L 50.7568359375 -38.5 C 48.90201950073242 -42.13444137573242 46.35791015625 -44.966796875 43.12451171875 -46.9970703125 C 39.89111328125 -49.02734375 36.34440231323242 -50.04248046875 32.484375 -50.04248046875 C 28.74967384338379 -50.04248046875 25.416015625 -49.05867385864258 22.4833984375 -47.091064453125 C 19.55078125 -45.12345504760742 17.26358985900879 -42.49161911010742 15.621826171875 -39.195556640625 C 13.98006153106689 -35.89949417114258 13.1591796875 -32.35905075073242 13.1591796875 -28.57421875 C 13.1591796875 -24.6640625 14.01765918731689 -21.0546875 15.734619140625 -17.74609375 C 17.45157814025879 -14.4375 19.81396484375 -11.79313182830811 22.82177734375 -9.81298828125 C 25.82958984375 -7.832844734191895 29.17578125 -6.8427734375 32.8603515625 -6.8427734375 C 37.39713668823242 -6.8427734375 41.40755081176758 -8.227620124816895 44.8916015625 -10.997314453125 C 48.37565231323242 -13.76700878143311 50.91975784301758 -17.69596290588379 52.52392578125 -22.7841796875 L 59.74267578125 -18.94921875 C 57.78759765625 -12.6328125 54.33488082885742 -7.738851070404053 49.384521484375 -4.267333984375 C 44.43416213989258 -0.7958168983459473 38.62532424926758 0.93994140625 31.9580078125 0.93994140625 C 26.46875 0.93994140625 21.59358787536621 -0.3697102069854736 17.33251953125 -2.989013671875 C 13.07145118713379 -5.608317375183105 9.756591796875 -9.129963874816895 7.387939453125 -13.553955078125 C 5.019287109375 -17.97794723510742 3.8349609375 -22.83430862426758 3.8349609375 -28.123046875 C 3.8349609375 -33.86295700073242 5.044352054595947 -38.97623825073242 7.463134765625 -43.462890625 C 9.881917953491211 -47.94954299926758 13.22184181213379 -51.42732620239258 17.48291015625 -53.896240234375 C 21.74397850036621 -56.36515426635742 26.619140625 -57.599609375 32.1083984375 -57.599609375 C 35.79296875 -57.599609375 39.18928909301758 -56.98551559448242 42.29736328125 -55.75732421875 C 45.40543746948242 -54.52913284301758 48.275390625 -52.74951171875 50.9072265625 -50.41845703125 Z M 100.04736328125 -25.56640625 L 100.04736328125 -6.91796875 L 106.66455078125 -6.91796875 L 106.66455078125 0 L 93.20458984375 0 L 93.20458984375 -4.85009765625 C 89.44482421875 -1.16552734375 85.25894927978516 0.6767578125 80.64697265625 0.6767578125 C 78.21566009521484 0.6767578125 75.99112701416016 0.11279296875 73.973388671875 -1.01513671875 C 71.95565032958984 -2.14306640625 70.33895111083984 -3.653238773345947 69.123291015625 -5.545654296875 C 67.90763092041016 -7.438069820404053 67.2998046875 -9.537271499633789 67.2998046875 -11.84326171875 C 67.2998046875 -14.32470703125 67.97029876708984 -16.53670310974121 69.311279296875 -18.479248046875 C 70.65225982666016 -20.42179298400879 72.46321868896484 -21.91943359375 74.744140625 -22.97216796875 C 77.02506256103516 -24.02490234375 79.31851959228516 -24.55126953125 81.62451171875 -24.55126953125 C 85.48453521728516 -24.55126953125 89.08138275146484 -23.42333984375 92.4150390625 -21.16748046875 L 92.4150390625 -25.416015625 C 92.4150390625 -28.4990234375 91.76334381103516 -30.70475196838379 90.4599609375 -32.033203125 C 89.15657806396484 -33.36165237426758 87.01351165771484 -34.02587890625 84.03076171875 -34.02587890625 C 81.92529296875 -34.02587890625 80.16446685791016 -33.64363479614258 78.748291015625 -32.879150390625 C 77.33211517333984 -32.11466598510742 76.16031646728516 -30.95540428161621 75.23291015625 -29.4013671875 L 67.78857421875 -31.24365234375 C 69.46793365478516 -34.37678909301758 71.736328125 -36.714111328125 74.59375 -38.255615234375 C 77.451171875 -39.797119140625 80.84749603271484 -40.56787109375 84.78271484375 -40.56787109375 C 90.07144927978516 -40.56787109375 93.937744140625 -39.36474609375 96.381591796875 -36.95849609375 C 98.825439453125 -34.55224609375 100.04736328125 -30.7548828125 100.04736328125 -25.56640625 Z M 81.69970703125 -5.30126953125 C 85.50960540771484 -5.30126953125 89.08138275146484 -6.892903327941895 92.4150390625 -10.076171875 L 92.4150390625 -14.70068359375 C 89.03125 -17.33251953125 85.6474609375 -18.6484375 82.263671875 -18.6484375 C 80.20833587646484 -18.6484375 78.43497467041016 -18.00301170349121 76.943603515625 -16.712158203125 C 75.45223236083984 -15.42130565643311 74.70654296875 -13.79833984375 74.70654296875 -11.84326171875 C 74.70654296875 -9.96337890625 75.35823822021484 -8.403076171875 76.66162109375 -7.162353515625 C 77.96500396728516 -5.921630859375 79.64437103271484 -5.30126953125 81.69970703125 -5.30126953125 Z M 135.01318359375 -37.8232421875 L 135.01318359375 -39.51513671875 L 141.78076171875 -39.51513671875 L 141.78076171875 -26.3935546875 L 135.01318359375 -26.3935546875 L 135.01318359375 -28.7998046875 C 132.75732421875 -32.033203125 129.67431640625 -33.64990234375 125.76416015625 -33.64990234375 C 123.7088241577148 -33.64990234375 122.0294570922852 -33.19873046875 120.72607421875 -32.29638671875 C 119.4226913452148 -31.39404296875 118.77099609375 -30.228515625 118.77099609375 -28.7998046875 C 118.77099609375 -27.521484375 119.2660293579102 -26.51888084411621 120.256103515625 -25.7919921875 C 121.2461776733398 -25.06510353088379 123.470703125 -24.42594337463379 126.9296875 -23.87451171875 L 132.15576171875 -22.859375 C 139.9510040283203 -21.4306640625 143.8486328125 -17.60823631286621 143.8486328125 -11.39208984375 C 143.8486328125 -7.757649421691895 142.438720703125 -4.837565422058105 139.618896484375 -2.6318359375 C 136.799072265625 -0.4261066913604736 133.05810546875 0.6767578125 128.39599609375 0.6767578125 C 126.5411758422852 0.6767578125 124.7176895141602 0.4073079824447632 122.925537109375 -0.131591796875 C 121.1333847045898 -0.6704915761947632 119.6357421875 -1.340983033180237 118.4326171875 -2.14306640625 L 118.4326171875 0 L 111.5146484375 0 L 111.5146484375 -13.53515625 L 118.4326171875 -13.53515625 L 118.4326171875 -12.181640625 C 118.80859375 -10.27669239044189 119.8675918579102 -8.747721672058105 121.609619140625 -7.5947265625 C 123.3516464233398 -6.441731452941895 125.3756484985352 -5.865234375 127.681640625 -5.865234375 C 130.2132110595703 -5.865234375 132.2058868408203 -6.310140132904053 133.65966796875 -7.199951171875 C 135.1134490966797 -8.089762687683105 135.84033203125 -9.411946296691895 135.84033203125 -11.16650390625 C 135.84033203125 -12.44482421875 135.2638397216797 -13.403564453125 134.11083984375 -14.042724609375 C 132.9578399658203 -14.681884765625 130.6393280029297 -15.33984375 127.1552734375 -16.0166015625 L 123.13232421875 -16.88134765625 C 119.14697265625 -17.68343162536621 116.2268905639648 -19.06201171875 114.3720703125 -21.01708984375 C 112.5172500610352 -22.97216796875 111.58984375 -25.46614646911621 111.58984375 -28.4990234375 C 111.58984375 -30.95540428161621 112.2728652954102 -33.05460739135742 113.638916015625 -34.796630859375 C 115.0049667358398 -36.53865432739258 116.7532577514648 -37.84830856323242 118.8837890625 -38.7255859375 C 121.0143203735352 -39.60286331176758 123.20751953125 -40.04150390625 125.46337890625 -40.04150390625 C 129.2482147216797 -40.04150390625 132.4314727783203 -39.30208206176758 135.01318359375 -37.8232421875 Z M 169.490234375 -39.51513671875 L 169.490234375 -32.5595703125 L 162.271484375 -32.5595703125 L 162.271484375 -11.84326171875 C 162.271484375 -9.687662124633789 162.5033416748047 -8.290283203125 162.967041015625 -7.651123046875 C 163.4307403564453 -7.011962890625 164.2265625 -6.6923828125 165.3544921875 -6.6923828125 C 166.7330780029297 -6.6923828125 168.1116485595703 -6.930501461029053 169.490234375 -7.40673828125 L 169.490234375 -0.3759765625 C 167.083984375 0.3258463740348816 165.1414337158203 0.6767578125 163.66259765625 0.6767578125 C 160.4041290283203 0.6767578125 158.060546875 -0.1441242694854736 156.6318359375 -1.785888671875 C 155.203125 -3.427653074264526 154.48876953125 -6.2412109375 154.48876953125 -10.2265625 L 154.48876953125 -32.5595703125 L 149.337890625 -32.5595703125 L 149.337890625 -39.51513671875 L 154.48876953125 -39.51513671875 L 154.48876953125 -45.4931640625 L 162.271484375 -52.59912109375 L 162.271484375 -39.51513671875 L 169.490234375 -39.51513671875 Z" fill="#ffffff" stroke="none" stroke-width="1" stroke-miterlimit="10" stroke-linecap="butt" /></svg>';
